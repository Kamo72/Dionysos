{"ast":null,"code":"import React from'react';import\"./Headline.css\";import Searcher from'../Components/Searcher';import testIcon from'../Resources/magnifier.png';import{CookieLibrary}from'../Library';import{serverRoot}from'../App';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Headline extends React.Component{constructor(){super(...arguments);this.state={chImg:\"---\",chName:\"aksda\"};}render(){return/*#__PURE__*/_jsxs(\"header\",{className:\"Headline\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"SideIcon\",style:{height:\"10%\"},children:/*#__PURE__*/_jsx(\"img\",{style:{height:\"50px\",filter:\"invert()\"},src:testIcon,onClick:()=>{this.props.toggleFunc();}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"Logo\",onClick:()=>{window.location.replace(\"\".concat(window.location.origin,\"/\"));},children:\"Dionysos\"}),/*#__PURE__*/_jsx(Searcher,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"AccountDiv\",children:/*#__PURE__*/_jsx(AccountCard,{chImg:this.state.chImg,chName:this.state.chName})})]});}}class AccountCard extends React.Component{constructor(){super(...arguments);this.state={isHighlightSignin:false};this.GetUserId=()=>{const cLib=new CookieLibrary();return cLib.getCookieValue(\"userId\");};this.PostSignout=async()=>{const response=await(//요청\nawait fetch(serverRoot+\"/api/signout\",{method:\"POST\"// 또는 'PUT'\n}));response.json().then(error=>{console.log(error.message);// 서버에서 전달한 오류 메시지를 throw\nalert(error.message);});if(response.status==200){alert(\"로그아웃을 성공했습니다.\");window.location.reload();}};}render(){const userId=this.GetUserId();console.log(\"userID : \"+userId);return userId==null?/*#__PURE__*/_jsx(\"p\",{onMouseEnter:()=>{this.setState(current=>{return{isHighlightSignin:true};});},onMouseLeave:()=>{this.setState(current=>{return{isHighlightSignin:false};});},onClick:()=>{window.location.replace(\"\".concat(window.location.origin,\"/signin\"));},style:{color:this.state.isHighlightSignin?\"lightblue\":\"white\",marginRight:\"20px\",fontSize:\"20px\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"SIGNIN\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"AccountCard\",style:{display:\"flex\",alignItems:\"center\",textAlign:\"left\",width:\"120px\"},children:[/*#__PURE__*/_jsx(\"img\",{className:\"ChannelIcon\",onClick:()=>{window.location.replace(\"\".concat(window.location.origin,\"/profile\"));},onError:e=>{e.target.onError=null;// 무한 루프를 방지하기 위해 onerror 핸들러를 제거\ne.target.src=\"https://i.pinimg.com/564x/d5/b0/4c/d5b04cc3dcd8c17702549ebc5f1acf1a.jpg\";// 대체 이미지로 변경\n},src:\"\".concat(serverRoot,\"/api/chImg/\").concat(this.props.chImg)}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"75px\"},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:\"white\",fontSize:\"20px\",margin:\"0\"},onClick:()=>{window.location.replace(\"\".concat(window.location.origin,\"/profile\"));},children:this.props.chName}),/*#__PURE__*/_jsx(\"p\",{style:{color:this.state.isHighlightSignin?\"lightblue\":\"white\",marginRight:\"4px\",fontSize:\"10px\"},onMouseEnter:()=>{this.setState(current=>{return{isHighlightSignin:true};});},onMouseLeave:()=>{this.setState(current=>{return{isHighlightSignin:false};});},onClick:()=>{this.PostSignout();},children:/*#__PURE__*/_jsx(\"b\",{children:\"SIGNOUT\"})})]})]});}}export default Headline;","map":{"version":3,"names":["React","Searcher","testIcon","CookieLibrary","serverRoot","jsx","_jsx","jsxs","_jsxs","Headline","Component","constructor","arguments","state","chImg","chName","render","className","children","style","height","filter","src","onClick","props","toggleFunc","window","location","replace","concat","origin","AccountCard","isHighlightSignin","GetUserId","cLib","getCookieValue","PostSignout","response","fetch","method","json","then","error","console","log","message","alert","status","reload","userId","onMouseEnter","setState","current","onMouseLeave","color","marginRight","fontSize","display","alignItems","textAlign","width","onError","e","target","margin"],"sources":["F:/[STS4 Storage]/Dionysos/frontend/src/Modules/Headline.js"],"sourcesContent":["import React from 'react';\r\nimport \"./Headline.css\"\r\nimport Searcher from '../Components/Searcher';\r\nimport testIcon from '../Resources/magnifier.png'\r\nimport { CookieLibrary } from '../Library';\r\nimport { serverRoot } from '../App';\r\n\r\nclass Headline extends React.Component \r\n{\r\n\r\n\tstate={\r\n\t\tchImg : \"---\",\r\n\t\tchName : \"aksda\",\r\n\r\n\t}\r\n\r\n\trender() \r\n\t{\r\n\t\treturn (<header className='Headline'>\r\n\t\t\t<div className=\"SideIcon\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: \"10%\",\r\n\t\t\t\t\t}}>\r\n\t\t\t\t<img \r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: \"50px\",\r\n\t\t\t\t\t\tfilter: \"invert()\",\r\n\t\t\t\t\t}}\t\r\n\t\t\t\t\tsrc = {testIcon}\r\n\t\t\t\t\tonClick={()=>{this.props.toggleFunc()}}></img>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<i className=\"Logo\"\r\n\t\t\t\t\tonClick={()=>{window.location.replace(`${window.location.origin}/`)}}\r\n\t\t\t\t\t>Dionysos</i>\r\n\t\t\t\t<Searcher></Searcher>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"AccountDiv\">\r\n\t\t\t\t<AccountCard\r\n\t\t\t\t\tchImg={this.state.chImg}\r\n\t\t\t\t\tchName={this.state.chName}></AccountCard>\r\n\t\t\t</div>\r\n\t\t</header>);\r\n\t}\r\n}\r\nclass AccountCard extends React.Component\r\n{\r\n\tstate={\r\n\t\tisHighlightSignin : false,\r\n\t}\r\n\r\n\tGetUserId = ()=>{\r\n\t\tconst cLib = new CookieLibrary();\r\n\t\treturn cLib.getCookieValue(\"userId\")\r\n\t}\r\n\r\n    PostSignout = async () =>\r\n\t\t{\r\n\t\t\tconst response = await(\r\n\t\t\t\t//요청\r\n\t\t\t\tawait fetch(serverRoot + \"/api/signout\", {\r\n\t\t\t\t\tmethod: \"POST\", // 또는 'PUT'\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\r\n\t\t\tresponse.json().then(error => {\r\n\t\t\t\tconsole.log(error.message); // 서버에서 전달한 오류 메시지를 throw\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t\r\n\t\t\tif(response.status == 200)\r\n\t\t\t{\r\n\t\t\t\talert(\"로그아웃을 성공했습니다.\");\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst userId = this.GetUserId();\r\n\t\tconsole.log(\"userID : \" + userId)\r\n\r\n\t\treturn userId == null? (\r\n\t\t\t<p \r\n\t\t\t\tonMouseEnter={()=>{this.setState(current => {return { isHighlightSignin : true}} )}}\r\n\t\t\t\tonMouseLeave={()=>{this.setState(current => {return { isHighlightSignin : false}} )}}\r\n\t\t\t\tonClick={()=>{\r\n\t\t\t\t\twindow.location.replace(`${window.location.origin}/signin`)\r\n\t\t\t\t}}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tcolor: this.state.isHighlightSignin? \"lightblue\":\"white\",\r\n\t\t\t\t\tmarginRight : \"20px\",\r\n\t\t\t\t\tfontSize : \"20px\",\r\n\t\t\t\t}}>\r\n\t\t\t\t<b>SIGNIN</b>\r\n\t\t\t</p>\r\n\t\t):(\r\n\t\t\t<div className=\"AccountCard\"\r\n\t\t\t\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay : \"flex\",\r\n\t\t\t\talignItems : \"center\",\r\n\t\t\t\ttextAlign : \"left\",\r\n\t\t\t\twidth : \"120px\",\r\n\t\t\t}}>\r\n\t\t\t\t<img className='ChannelIcon'\r\n\t\t\t\t\tonClick={()=>{\r\n\t\t\t\t\t\twindow.location.replace(`${window.location.origin}/profile`)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonError={e=>{\r\n\t\t\t\t\t\te.target.onError = null; // 무한 루프를 방지하기 위해 onerror 핸들러를 제거\r\n\t\t\t\t\t\te.target.src = \"https://i.pinimg.com/564x/d5/b0/4c/d5b04cc3dcd8c17702549ebc5f1acf1a.jpg\"; // 대체 이미지로 변경\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsrc={`${serverRoot}/api/chImg/${this.props.chImg}`}>\r\n\t\t\t\t</img>\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\t\twidth : \"75px\",\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<p style={{\r\n\t\t\t\t\t\t\tcolor:\"white\",\r\n\t\t\t\t\t\t\tfontSize : \"20px\",\r\n\t\t\t\t\t\t\tmargin : \"0\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={()=>{\r\n\t\t\t\t\t\t\twindow.location.replace(`${window.location.origin}/profile`)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{this.props.chName}</p>\r\n\t\t\t\t\t<p style={{\r\n\t\t\t\t\t\tcolor: this.state.isHighlightSignin? \"lightblue\":\"white\",\r\n\t\t\t\t\t\tmarginRight : \"4px\",\r\n\t\t\t\t\t\tfontSize : \"10px\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t\tonMouseEnter={()=>{this.setState(current => {return { isHighlightSignin : true}} )}}\r\n\t\t\t\t\t\tonMouseLeave={()=>{this.setState(current => {return { isHighlightSignin : false}} )}}\r\n\t\t\t\t\t\tonClick={()=>{ this.PostSignout() }}>\r\n\t\t\t\t\t\t<b>SIGNOUT</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\r\n\t}\r\n\r\n}\r\nexport default Headline;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}