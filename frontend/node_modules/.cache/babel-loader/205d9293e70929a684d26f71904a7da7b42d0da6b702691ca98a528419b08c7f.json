{"ast":null,"code":"import React from'react';import{ApiLibrary}from'../../Library';import{useParams}from'react-router-dom';import{serverRoot}from'../../App.js';import Card from'../../Components/Card.js';import\"./ChannelPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function withParams(Component){return props=>/*#__PURE__*/_jsx(Component,{...props,params:useParams()});}class ChannelPage extends React.Component{constructor(props){super(props);this.state={channelId:\"\",windowSize:[window.innerWidth,window.innerHeight],videoCodeList:[],channelName:\"\",channelImg:\"\"};this.state={...this.state,channelId:props.params.id};const handleResize=()=>{this.setState(current=>{return{windowSize:[window.innerWidth,window.innerHeight]};});};window.addEventListener(\"resize\",handleResize);}componentDidMount(){const aLib=new ApiLibrary();aLib.GetProfileBasic(this.state.keyword).then(e=>{const img=e.userImg;const name=e.userName;this.setState(cur=>{return{userImg:img};});this.setState(cur=>{return{channelName:name};});});aLib.GetChannelVideos(this.state.keyword).then(e=>{const list=e.videoCodes;this.setState(cur=>{return{videoCodeList:list};});});}render(){const margin=30;const sizeMin=300;const columnCount=Math.floor(window.innerWidth/sizeMin);const thumbWidth=(window.innerWidth-margin*2)/columnCount;const thumbHeight=Math.floor(thumbWidth*0.8);return/*#__PURE__*/_jsxs(\"div\",{className:\"SearchPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"UserProfile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"SearchAnnounce\",children:/*#__PURE__*/_jsxs(\"i\",{children:[\"Videos of \\\"\",this.state.channelName,\"\\\"\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"VideoGrid\",style:{gridTemplateColumns:\"repeat(\"+columnCount+\", \"+thumbWidth+\"px)\",gridTemplateRows:\"repeat(\"+10+\", \"+thumbHeight+\"px)\"},children:this.state.videoCodeList.map(item=>/*#__PURE__*/_jsx(Card,{videoCode:item,width:thumbWidth,height:thumbHeight}))})]});}}export default withParams(ChannelPage);","map":{"version":3,"names":["React","ApiLibrary","useParams","serverRoot","Card","jsx","_jsx","jsxs","_jsxs","withParams","Component","props","params","ChannelPage","constructor","state","channelId","windowSize","window","innerWidth","innerHeight","videoCodeList","channelName","channelImg","id","handleResize","setState","current","addEventListener","componentDidMount","aLib","GetProfileBasic","keyword","then","e","img","userImg","name","userName","cur","GetChannelVideos","list","videoCodes","render","margin","sizeMin","columnCount","Math","floor","thumbWidth","thumbHeight","className","children","style","gridTemplateColumns","gridTemplateRows","map","item","videoCode","width","height"],"sources":["F:/[STS4 Storage]/Dionysos/frontend/src/Modules/Pages/ChannelPage.js"],"sourcesContent":["import React from 'react';\r\nimport { ApiLibrary } from '../../Library';\r\nimport { useParams } from 'react-router-dom';\r\nimport { serverRoot } from '../../App.js'\r\nimport Card from '../../Components/Card.js';\r\nimport \"./ChannelPage.css\"\r\n\r\n\r\n\r\nfunction withParams(Component)\r\n{\r\n    return (props) => <Component{...props} params={useParams()}/>;\r\n}\r\n\r\n\r\nclass ChannelPage extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n\r\n        this.state = {\r\n            ...this.state,\r\n            channelId: props.params.id\r\n        };\r\n\r\n        const handleResize = () => {\r\n            this.setState(\r\n                current => {return {windowSize : [window.innerWidth, window.innerHeight]}} \r\n            )\r\n        }\r\n        window.addEventListener(\"resize\", handleResize);\r\n        \r\n    }\r\n    state = {\r\n        channelId : \"\",\r\n        windowSize : [window.innerWidth, window.innerHeight],\r\n        videoCodeList : [],\r\n\r\n        channelName : \"\",\r\n        channelImg : \"\",\r\n    };\r\n\r\n    componentDidMount()\r\n    {\r\n        const aLib = new ApiLibrary();\r\n\r\n        aLib.GetProfileBasic(this.state.keyword).then(e=>{\r\n\r\n            const img = e.userImg;\r\n            const name = e.userName;\r\n            this.setState(cur=>{return{userImg : img}})\r\n            this.setState(cur=>{return{channelName : name}})\r\n        })\r\n\r\n        aLib.GetChannelVideos(this.state.keyword).then(e=>{\r\n\r\n            const list = e.videoCodes;\r\n            this.setState(cur=>{return{videoCodeList : list}})\r\n        })\r\n    }\r\n\r\n    render(){\r\n    \r\n        const margin = 30\r\n        const sizeMin = 300\r\n        const columnCount =  Math.floor(window.innerWidth/sizeMin);\r\n        const thumbWidth = ((window.innerWidth - margin * 2) / columnCount);\r\n        const thumbHeight = Math.floor(thumbWidth * 0.8);\r\n\r\n\t\treturn (<div className='SearchPage'\r\n            >\r\n            <div className='UserProfile'>\r\n\r\n            </div>\r\n            <div className='SearchAnnounce'>\r\n                <i>Videos of \"{this.state.channelName}\"</i>\r\n            </div>\r\n            <div className=\"VideoGrid\"\r\n                style = {{\r\n                    gridTemplateColumns : \"repeat(\" + columnCount +\", \" + thumbWidth + \"px)\",\r\n                    gridTemplateRows : \"repeat(\" + 10  +\", \" + thumbHeight +\"px)\",\r\n                }}>\r\n                {this.state.videoCodeList.map(item => \r\n                    <Card videoCode = {item} width = {thumbWidth} height = {thumbHeight}></Card>\r\n                )}\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withParams(ChannelPage)"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}